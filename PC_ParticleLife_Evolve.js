let numTypes=6,colorStep=360/numTypes,friction=.85,minPopulation=5,maxPopulation=10,numFood=50,foodRange=10,foodEnergy=10,reproductionEnergy=220,startingEnergy=100,K=.2,swarm=[],food=[],display=!0,drawLines=!1;function setup(){createCanvas(windowWidth,windowHeight),colorMode(HSB,360,100,100),swarm=Array.from({length:minPopulation},(()=>new Cell(random(width),random(height)))),food=Array.from({length:numFood},(()=>new Particle(createVector(random(width),random(height)),0)))}function draw(){background(0);for(let e=0;e<swarm.length;e++){let o=swarm[e];o.update(),display&&o.display()}if(swarm=swarm.filter((e=>e.energy>0)),eat(),replace(),reproduce(),display)for(let e=0;e<food.length;e++)food[e].display();frameCount%2==0&&food.push(new Particle(createVector(random(width),random(height)),0))}function eat(){for(let e=0;e<swarm.length;e++){let o=swarm[e];for(let e=0;e<o.swarm.length;e++){let r=o.swarm[e];if(1===r.type){let e=[];for(let t=0;t<food.length;t++)p5.Vector.dist(food[t].position,r.position)<foodRange&&(o.energy+=foodEnergy,e.push(t));for(let o of e)food.splice(o,1)}}}}function reproduce(){for(let e=0;e<swarm.length;e++){let o=swarm[e];if(o.energy>reproductionEnergy){if(swarm.length<maxPopulation){let e=new Cell(random(width),random(height));e.copyCell(o),o.energy-=startingEnergy,e.mutateCell(),swarm.push(e)}}}}function replace(){for(;swarm.length<minPopulation;){let e=Math.floor(random(swarm.length)),o=swarm[e],r=new Cell(random(width),random(height));r.copyCell(o),r.mutateCell(),swarm.push(r)}}function keyPressed(){"d"===key&&(display=!display),"l"===key&&(drawLines=!drawLines)}function random(e,o){return void 0===o?Math.random()*e:Math.random()*(o-e)+e}function createVector(e,o){return{x:e,y:o}}var script=document.createElement('script');script.src="//cdn.jsdelivr.net/npm/eruda";document.body.appendChild(script);script.onload=(()=>eruda.init());setInterval(function(){console.log(swarm.length)},1000);